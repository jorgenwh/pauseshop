<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PauseShop UI</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            body {
                font-family: "Inter", sans-serif;
                /* For demo purposes, to see the sidebar slide in */
                /* Simulating a video playing in the background */
                background-image: url("https://placehold.co/1920x1080/6366F1/FFFFFF?text=Streaming+Video+Background");
                background-size: cover;
                background-position: center;
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden; /* Prevent body scroll when sidebar is open */
            }

            #pauseShopContainer {
                /* Base styles for the container */
                background-color: rgba(
                    15,
                    23,
                    42,
                    0.8
                ); /* bg-slate-900 with 80% opacity */
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(
                    20px
                ); /* For Safari compatibility */
                box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
                scrollbar-width: thin;
                scrollbar-color: #4f46e5 #1e293b; /* scrollbar-thumb-indigo-600 scrollbar-track-slate-700 */
            }

            /* Custom scrollbar for WebKit browsers */
            #pauseShopContainer ::-webkit-scrollbar {
                width: 8px;
            }
            #pauseShopContainer ::-webkit-scrollbar-track {
                background: rgba(
                    30,
                    41,
                    59,
                    0.5
                ); /* bg-slate-700 with transparency */
                border-radius: 10px;
            }
            #pauseShopContainer ::-webkit-scrollbar-thumb {
                background-color: #4f46e5; /* bg-indigo-600 */
                border-radius: 10px;
                border: 2px solid rgba(30, 41, 59, 0.5); /* bg-slate-700 with transparency */
            }
            #pauseShopContainer ::-webkit-scrollbar-thumb:hover {
                background-color: #6366f1; /* bg-indigo-500 */
            }

            .expanded-content {
                transition:
                    max-height 0.4s ease-in-out,
                    opacity 0.3s 0.1s ease-in-out,
                    transform 0.4s ease-in-out;
                max-height: 0;
                opacity: 0;
                overflow: hidden;
                transform: translateY(-10px);
            }

            .expanded-content.open {
                max-height: 600px; /* Adjust based on potential content height */
                opacity: 1;
                transform: translateY(0);
            }

            .product-item .chevron {
                transition: transform 0.3s ease-in-out;
            }
            .product-item .chevron.open {
                transform: rotate(180deg);
            }

            /* Demo button to toggle sidebar */
            #togglePauseShopButton {
                position: fixed;
                top: 20px;
                left: 20px;
                z-index: 100;
            }

            /* Ensure product items have a slightly more opaque background than the main container if needed */
            .product-item {
                background-color: rgba(
                    30,
                    41,
                    59,
                    0.85
                ); /* bg-slate-800 with 85% opacity, slightly more opaque than main sidebar */
            }
            .product-item:hover {
                background-color: rgba(
                    51,
                    65,
                    85,
                    0.8
                ); /* bg-slate-700/60 with adjusted opacity */
            }
            .amazon-item {
                background-color: rgba(
                    51,
                    65,
                    85,
                    0.7
                ); /* bg-slate-700/50 with adjusted opacity */
            }
            .amazon-item:hover {
                background-color: rgba(
                    71,
                    85,
                    105,
                    0.75
                ); /* bg-slate-600/70 with adjusted opacity */
            }
        </style>
    </head>
    <body>
        <button
            id="togglePauseShopButton"
            class="rounded-lg bg-indigo-600 px-4 py-2 font-semibold text-white shadow-md transition-colors hover:bg-indigo-700"
        >
            Toggle PauseShop (Simulate Pause/Resume)
        </button>

        <div
            id="pauseShopContainer"
            class="fixed right-0 top-0 flex h-full w-96 translate-x-full transform flex-col p-5 text-slate-100 transition-transform duration-500 ease-in-out md:w-[400px]"
        >
            <div
                class="mb-5 flex items-center justify-between border-b border-slate-600/80 pb-4"
            >
                <div class="flex items-center space-x-2.5">
                    <svg
                        class="h-7 w-7 text-indigo-400"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        {/* Icon: Shopping Bag variant */}
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M7.50329 5.00002C7.50329 4.15366 8.13938 3.48013 8.96891 3.42219C9.02396 3.41728 9.07933 3.41492 9.13501 3.41492H14.865C14.9207 3.41492 14.976 3.41728 15.0311 3.42219C15.8606 3.48013 16.4967 4.15366 16.4967 5.00002V5.25002H7.50329V5.00002ZM5.25329 6.00002V5.25002H7.50329V6.00002H3.75C3.33579 6.00002 3 6.33581 3 6.75002V17.25C3 19.0449 4.45508 20.5 6.25 20.5H17.75C19.5449 20.5 21 19.0449 21 17.25V6.75002C21 6.33581 20.6642 6.00002 20.25 6.00002H16.4967V5.25002H18.7467V6.00002H5.25329Z M12 17C13.3807 17 14.5 15.8807 14.5 14.5C14.5 13.1193 13.3807 12 12 12C10.6193 12 9.5 13.1193 9.5 14.5C9.5 15.8807 10.6193 17 12 17Z"
                        />
                    </svg>
                    <h2 class="text-xl font-bold text-slate-100">
                        Pause<span class="text-indigo-400">Shop</span>
                    </h2>
                </div>
                <button
                    id="closePauseShop"
                    title="Close PauseShop"
                    class="rounded-full p-1.5 text-slate-300 transition-colors hover:bg-slate-700/70 hover:text-slate-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"
                >
                    <svg
                        class="h-5 w-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"
                        ></path>
                    </svg>
                </button>
            </div>

            <div
                id="loadingState"
                class="flex flex-grow flex-col items-center justify-center py-10 text-center"
            >
                <svg
                    class="mb-5 h-10 w-10 animate-spin text-indigo-500"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                >
                    <circle
                        class="opacity-25"
                        cx="12"
                        cy="12"
                        r="10"
                        stroke="currentColor"
                        stroke-width="4"
                    ></circle>
                    <path
                        class="opacity-75"
                        fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                    ></path>
                </svg>
                <p class="text-lg font-semibold text-slate-100">
                    Finding products...
                </p>
                <p class="text-sm text-slate-300">
                    Analyzing your paused scene.
                </p>
            </div>

            <div
                id="productList"
                class="hidden flex-grow space-y-3.5 overflow-y-auto pb-4 pr-1"
            >
                <div
                    class="product-item rounded-xl p-3.5 shadow-lg transition-colors duration-200 ease-in-out hover:bg-slate-700/60"
                >
                    <div
                        class="product-header group flex cursor-pointer items-center justify-between"
                    >
                        <div class="flex min-w-0 items-center space-x-3.5">
                            <img
                                src="https://placehold.co/64x64/DB2777/FFFFFF?text=Style"
                                alt="Detected Product: Red Dress"
                                class="h-14 w-14 rounded-lg object-cover shadow-md transition-transform duration-200 group-hover:scale-105"
                            />
                            <div class="min-w-0">
                                <h3
                                    class="text-md truncate font-semibold text-slate-50"
                                >
                                    Elegant Red Dress
                                </h3>
                                <p class="text-xs text-slate-300">
                                    Spotted: Clothing
                                </p>
                            </div>
                        </div>
                        <svg
                            class="chevron h-5 w-5 transform text-slate-300 transition-all group-hover:text-indigo-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19 9l-7 7-7-7"
                            ></path>
                        </svg>
                    </div>
                    <div class="expanded-content">
                        <h4
                            class="my-3 ml-1 text-xs font-semibold text-indigo-300"
                        >
                            Shop similar on Amazon:
                        </h4>
                        <div class="grid grid-cols-2 gap-2.5">
                            <a
                                href="https://www.amazon.com/s?k=elegant+red+dress"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/C026D3/FFFFFF?text=Dress1"
                                    alt="Amazon: Red Cocktail Dress"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    Evening Party Red Dress
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $79.99
                                </p>
                            </a>
                            <a
                                href="https://www.amazon.com/s?k=elegant+red+dress"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/C026D3/FFFFFF?text=Dress2"
                                    alt="Amazon: Silk Red Gown"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    Luxury Silk Red Gown
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $129.50
                                </p>
                            </a>
                        </div>
                    </div>
                </div>

                <div
                    class="product-item rounded-xl p-3.5 shadow-lg transition-colors duration-200 ease-in-out"
                >
                    <div
                        class="product-header group flex cursor-pointer items-center justify-between"
                    >
                        <div class="flex min-w-0 items-center space-x-3.5">
                            <img
                                src="https://placehold.co/64x64/10B981/FFFFFF?text=Tech"
                                alt="Detected Product: Headphones"
                                class="h-14 w-14 rounded-lg object-cover shadow-md transition-transform duration-200 group-hover:scale-105"
                            />
                            <div class="min-w-0">
                                <h3
                                    class="text-md truncate font-semibold text-slate-50"
                                >
                                    Wireless Headphones
                                </h3>
                                <p class="text-xs text-slate-300">
                                    Spotted: Electronics
                                </p>
                            </div>
                        </div>
                        <svg
                            class="chevron h-5 w-5 transform text-slate-300 transition-all group-hover:text-indigo-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19 9l-7 7-7-7"
                            ></path>
                        </svg>
                    </div>
                    <div class="expanded-content">
                        <h4
                            class="my-3 ml-1 text-xs font-semibold text-indigo-300"
                        >
                            Shop similar on Amazon:
                        </h4>
                        <div class="grid grid-cols-2 gap-2.5">
                            <a
                                href="https://www.amazon.com/s?k=wireless+headphones"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/059669/FFFFFF?text=Audio1"
                                    alt="Amazon: Noise Cancelling Headphones"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    ProBeat Noise-Cancelling
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $199.00
                                </p>
                            </a>
                            <a
                                href="https://www.amazon.com/s?k=wireless+headphones"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/059669/FFFFFF?text=Audio2"
                                    alt="Amazon: Sport Earbuds"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    SportFit Wireless Earbuds
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $49.99
                                </p>
                            </a>
                            <a
                                href="https://www.amazon.com/s?k=wireless+headphones"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/059669/FFFFFF?text=Audio3"
                                    alt="Amazon: Studio Headphones"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    Studio Monitor Headphones
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $149.00
                                </p>
                            </a>
                        </div>
                    </div>
                </div>
                <div
                    class="product-item rounded-xl p-3.5 shadow-lg transition-colors duration-200 ease-in-out"
                >
                    <div
                        class="product-header group flex cursor-pointer items-center justify-between"
                    >
                        <div class="flex min-w-0 items-center space-x-3.5">
                            <img
                                src="https://placehold.co/64x64/F59E0B/FFFFFF?text=Decor"
                                alt="Detected Product: Modern Lamp"
                                class="h-14 w-14 rounded-lg object-cover shadow-md transition-transform duration-200 group-hover:scale-105"
                            />
                            <div class="min-w-0">
                                <h3
                                    class="text-md truncate font-semibold text-slate-50"
                                >
                                    Modern Table Lamp
                                </h3>
                                <p class="text-xs text-slate-300">
                                    Spotted: Home Decor
                                </p>
                            </div>
                        </div>
                        <svg
                            class="chevron h-5 w-5 transform text-slate-300 transition-all group-hover:text-indigo-400"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M19 9l-7 7-7-7"
                            ></path>
                        </svg>
                    </div>
                    <div class="expanded-content">
                        <h4
                            class="my-3 ml-1 text-xs font-semibold text-indigo-300"
                        >
                            Shop similar on Amazon:
                        </h4>
                        <div class="grid grid-cols-2 gap-2.5">
                            <a
                                href="https://www.amazon.com/s?k=modern+table+lamp"
                                target="_blank"
                                class="amazon-item group block rounded-lg p-2 transition-colors duration-200"
                            >
                                <img
                                    src="https://placehold.co/120x120/D97706/FFFFFF?text=Lamp1"
                                    alt="Amazon: Minimalist Desk Lamp"
                                    class="mb-1.5 h-auto w-full rounded-md object-cover shadow-sm transition-opacity group-hover:opacity-90"
                                />
                                <p
                                    class="truncate text-[11px] leading-tight text-slate-100"
                                >
                                    Minimalist Desk Lamp
                                </p>
                                <p
                                    class="text-[10px] font-semibold text-indigo-400"
                                >
                                    $35.00
                                </p>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div
                id="noProductsMessage"
                class="hidden flex-grow flex-col items-center justify-center py-10 text-center"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="mb-4 h-12 w-12 text-slate-400"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="1.5"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 10l4 4m0-4l-4 4"
                    />
                </svg>
                <p class="text-lg font-semibold text-slate-200">
                    No products found.
                </p>
                <p class="text-sm text-slate-400">
                    Try a different scene or ensure items are clearly visible.
                </p>
            </div>

            <div class="mt-auto border-t border-slate-600/80 pt-3 text-center">
                <p class="text-xs text-slate-400">Powered by PauseShop AI</p>
            </div>
        </div>

        <script>
            const pauseShopContainer =
                document.getElementById("pauseShopContainer");
            const closePauseShopButton =
                document.getElementById("closePauseShop");
            const togglePauseShopButton = document.getElementById(
                "togglePauseShopButton",
            );

            const loadingState = document.getElementById("loadingState");
            const productList = document.getElementById("productList");
            const noProductsMessage =
                document.getElementById("noProductsMessage");

            // --- UI Visibility ---
            function showPauseShop() {
                pauseShopContainer.classList.remove("translate-x-full");
                // Simulate loading products
                showLoading();
                setTimeout(() => {
                    // Simulate API response:
                    // To test "no products", change to true
                    const noProductsFound = false; // Math.random() > 0.7;
                    if (noProductsFound) {
                        showNoProducts();
                    } else {
                        showProducts();
                    }
                }, 2500); // Simulate network delay
            }

            function hidePauseShop() {
                pauseShopContainer.classList.add("translate-x-full");
            }

            // --- Content States ---
            function showLoading() {
                loadingState.classList.remove("hidden");
                loadingState.classList.add("flex");
                productList.classList.add("hidden");
                noProductsMessage.classList.add("hidden");
                noProductsMessage.classList.remove("flex");
            }

            function showProducts() {
                loadingState.classList.add("hidden");
                loadingState.classList.remove("flex");
                productList.classList.remove("hidden");
                noProductsMessage.classList.add("hidden");
                noProductsMessage.classList.remove("flex");
            }

            function showNoProducts() {
                loadingState.classList.add("hidden");
                loadingState.classList.remove("flex");
                productList.classList.add("hidden");
                noProductsMessage.classList.remove("hidden");
                noProductsMessage.classList.add("flex");
            }

            // --- Event Listeners ---
            closePauseShopButton.addEventListener("click", hidePauseShop);
            togglePauseShopButton.addEventListener("click", () => {
                if (pauseShopContainer.classList.contains("translate-x-full")) {
                    showPauseShop();
                } else {
                    hidePauseShop();
                }
            });

            // Product Item Expansion
            document.querySelectorAll(".product-header").forEach((header) => {
                header.addEventListener("click", () => {
                    const productItem = header.closest(".product-item");
                    const content =
                        productItem.querySelector(".expanded-content");
                    const chevron = header.querySelector(".chevron");

                    if (content.classList.contains("open")) {
                        content.classList.remove("open");
                        chevron.classList.remove("open");
                    } else {
                        // Optional: Close other open items
                        // document.querySelectorAll('.expanded-content.open').forEach(openContent => {
                        //     openContent.classList.remove('open');
                        //     openContent.closest('.product-item').querySelector('.chevron').classList.remove('open');
                        // });
                        content.classList.add("open");
                        chevron.classList.add("open");
                    }
                });
            });

            // Initial state: hidden, can be triggered by your extension logic
            // For demo: showPauseShop(); // Uncomment to show on load for testing
        </script>
    </body>
</html>
